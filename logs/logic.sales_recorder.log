2025-05-23 00:54:14,464 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250523_005414.json
2025-05-23 00:54:14,472 [logic.sales_recorder] ERROR: Inventory update failed: save_csv() missing 1 required positional argument: 'rows'
Traceback (most recent call last):
  File "C:\sakatsu_pos\logic\sales_recorder.py", line 75, in record_sale
    res = updater.update_from_record(str(file_path))
  File "C:\sakatsu_pos\nextengine\inventory_updater.py", line 57, in update_from_record
    csv_data, valid = self.build_csv(record)
                      ~~~~~~~~~~~~~~^^^^^^^^
  File "C:\sakatsu_pos\nextengine\inventory_updater.py", line 41, in build_csv
    writer = save_csv(output)
TypeError: save_csv() missing 1 required positional argument: 'rows'
2025-05-28 20:28:13,220 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250528_202813.json
2025-05-28 20:28:13,226 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'goods_id,stock_quantity\r\n140006400015,-1\r\n140006400015,-1\r\n140015000015,-1\r\n'}
2025-05-28 20:29:42,547 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250528_202942.json
2025-05-28 20:29:42,551 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'goods_id,stock_quantity\r\n140015000015,-1\r\n'}
2025-05-29 03:18:11,099 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250529_031811.json
2025-05-29 03:18:11,108 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n'}
2025-05-30 15:54:06,596 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_155406.json
2025-05-30 15:54:06,602 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n'}
2025-05-30 15:55:16,206 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_155516.json
2025-05-30 15:55:16,210 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n140015000015,-1\r\n'}
2025-05-30 17:01:39,562 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_170139.json
2025-05-30 17:01:39,566 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n140015000015,-1\r\n'}
2025-05-30 17:02:05,131 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_170205.json
2025-05-30 17:02:05,135 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'skipped': True}
2025-05-30 17:34:17,709 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_173417.json
2025-05-30 17:34:17,712 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n'}
2025-05-30 17:34:32,560 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_173432.json
2025-05-30 17:34:32,564 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n'}
2025-05-30 17:44:27,754 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_174427.json
2025-05-30 17:44:27,757 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n140015000015,-1\r\n'}
2025-05-30 17:44:40,984 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_174440.json
2025-05-30 17:44:40,987 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n'}
2025-05-30 20:38:12,778 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_203812.json
2025-05-30 20:38:12,781 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n140015000015,-1\r\n'}
2025-05-30 20:38:29,459 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_203829.json
2025-05-30 20:38:29,462 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n'}
2025-05-30 20:43:06,675 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_204306.json
2025-05-30 20:43:06,679 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n140015000015,-1\r\n140015000015,-1\r\n'}
2025-05-30 20:43:32,502 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_204332.json
2025-05-30 20:43:32,505 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n'}
2025-05-30 20:47:03,779 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_204703.json
2025-05-30 20:47:03,782 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n140015000015,-1\r\n'}
2025-05-30 20:51:48,217 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_205148.json
2025-05-30 20:51:48,221 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n140015000015,-1\r\n140015000015,-1\r\n'}
2025-05-30 21:42:08,831 [logic.sales_recorder] INFO: Recorded sale: data\202505\sales_20250530_214208.json
2025-05-30 21:42:08,835 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True, 'csv': 'syohin_code,zaiko_su\r\n140015000015,-1\r\n'}
2025-06-11 15:52:50,919 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250611_155250.json
2025-06-11 15:52:50,925 [logic.sales_recorder] ERROR: Inventory update failed: 'InventoryUpdater' object has no attribute 'api_url'
Traceback (most recent call last):
  File "C:\sakatsu_pos\logic\sales_recorder.py", line 76, in record_sale
    res = updater.update_from_record(str(file_path))
  File "C:\sakatsu_pos\nextengine\inventory_updater.py", line 233, in update_from_record
    print(f"[InventoryUpdater] Simulation mode: POST to {self.api_url}")
                                                         ^^^^^^^^^^^^
AttributeError: 'InventoryUpdater' object has no attribute 'api_url'
2025-06-11 21:18:21,850 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250611_211821.json
2025-06-11 21:18:21,858 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-11 22:58:24,371 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250611_225824.json
2025-06-11 22:58:24,376 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'skipped': True}
2025-06-11 23:36:31,668 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250611_233631.json
2025-06-11 23:36:31,674 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'skipped': True}
2025-06-14 16:59:45,365 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_165945.json
2025-06-14 16:59:45,373 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 16:59:45,373 [logic.sales_recorder] ERROR: Receipt printing failed: 'qty'
Traceback (most recent call last):
  File "C:\sakatsu_pos\logic\sales_recorder.py", line 96, in record_sale
    job = self.receipt_builder.build(sale_data)
  File "C:\sakatsu_pos\utils\receipt_builder.py", line 70, in build
    val = str(item['qty'])
              ~~~~^^^^^^^
KeyError: 'qty'
2025-06-14 17:28:47,140 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 17:28:47,143 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_172847.json
2025-06-14 17:28:47,149 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 17:28:47,151 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}, {'goods_id': '', 'name': '140080000015', 'price': 1000, 'quantity': 1}], 'total': 1550, 'cash': 1550, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 14, 17, 28, 47)}
2025-06-14 17:28:47,152 [logic.sales_recorder] ERROR: Receipt printing failed: 'qty'
Traceback (most recent call last):
  File "C:\sakatsu_pos\logic\sales_recorder.py", line 105, in record_sale
    job = self.receipt_builder.build(sale_data)
  File "C:\sakatsu_pos\utils\receipt_builder.py", line 70, in build
    val = str(item['qty'])
              ~~~~^^^^^^^
KeyError: 'qty'
2025-06-14 17:28:47,153 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 17:34:18,578 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 17:34:18,580 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_173418.json
2025-06-14 17:34:18,585 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 17:34:18,585 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': '111', 'price': 1000, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}, {'goods_id': '', 'name': '', 'price': 999, 'quantity': 1}], 'total': 2549, 'cash': 2549, 'change': 451, 'timestamp': datetime.datetime(2025, 6, 14, 17, 34, 18)}
2025-06-14 17:34:18,586 [logic.sales_recorder] INFO: >>> built receipt job: [('text', 'さかつうギャラリー', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '', {}), ('text', '         領\u3000収\u3000書', {'align': 'center', 'bold': True}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '日時: 2025/06/14 17:34:18', {}), ('text', '--------------------------------', {}), ('text', '111                1  1000   1,000', {}), ('text', '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150   1   550     550', {}), ('text', '                   1   999     999', {}), ('text', '10%対象 0', {}), ('text', '(内消費税等 10%) 0', {}), ('text', '--------------------------------', {}), ('text', '                        合計 2,549', {}), ('text', '                        現金 2,549', {}), ('text', '                         お釣り 451', {}), ('text', '--------------------------------', {}), ('text', '', {}), ('text', 'ご来店ありがとうございました！', {'align': 'center'}), ('cut', None, {})]
2025-06-14 17:34:19,072 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-14 17:34:19,073 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 17:43:34,284 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 17:43:34,286 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_174334.json
2025-06-14 17:43:34,290 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 17:43:34,290 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}, {'goods_id': '', 'name': 'ddd', 'price': 5000, 'quantity': 1}], 'total': 5550, 'cash': 5550, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 14, 17, 43, 34)}
2025-06-14 17:43:34,290 [logic.sales_recorder] INFO: >>> built receipt job: [('text', 'さかつうギャラリー', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '', {}), ('text', '         領\u3000収\u3000書', {'align': 'center', 'bold': True}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '日時: 2025/06/14 17:43:34', {}), ('text', '--------------------------------', {}), ('text', '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150   1   550     550', {}), ('text', 'ddd                1  5000   5,000', {}), ('text', '10%対象 0', {}), ('text', '(内消費税等 10%) 0', {}), ('text', '--------------------------------', {}), ('text', '                        合計 5,550', {}), ('text', '                        現金 5,550', {}), ('text', '                           お釣り 0', {}), ('text', '--------------------------------', {}), ('text', '', {}), ('text', 'ご来店ありがとうございました！', {'align': 'center'}), ('cut', None, {})]
2025-06-14 17:43:34,291 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-14 17:43:34,291 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 18:40:14,843 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 18:40:14,846 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_184014.json
2025-06-14 18:40:14,853 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 18:40:14,853 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}, {'goods_id': '', 'name': '', 'price': 600, 'quantity': 1}], 'total': 1150, 'cash': 1150, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 14, 18, 40, 14)}
2025-06-14 18:40:14,854 [logic.sales_recorder] INFO: >>> built receipt job: [('text', 'さかつうギャラリー', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '', {}), ('text', '         領\u3000収\u3000書', {'align': 'center', 'bold': True}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '日時: 2025/06/14 18:40:14', {}), ('text', '--------------------------------', {}), ('text', '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150   1   550     550', {}), ('text', '                   1   600     600', {}), ('text', '10%対象 0', {}), ('text', '(内消費税等 10%) 0', {}), ('text', '--------------------------------', {}), ('text', '                        合計 1,150', {}), ('text', '                        現金 1,150', {}), ('text', '                           お釣り 0', {}), ('text', '--------------------------------', {}), ('text', '', {}), ('text', 'ご来店ありがとうございました！', {'align': 'center'}), ('cut', None, {})]
2025-06-14 18:40:14,854 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-14 18:40:14,854 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 21:16:43,631 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 21:16:43,638 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_211643.json
2025-06-14 21:16:43,644 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 21:16:43,645 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': 'ddd', 'price': 500, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 1050, 'cash': 1050, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 14, 21, 16, 43)}
2025-06-14 21:16:43,645 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/14 21:16:43', {}), ('text', '--------------------------------', {}), ('text', '商品名                         数量        単価        金額', {'bold': True}), ('text', '--------------------------------', {}), ('text', 'ddd                          1       500       500', {}), ('text', '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                          954', {}), ('text', '(内消費税等 10%)                                     96', {}), ('text', '--------------------------------', {}), ('text', '                                          合計 1,050', {'bold': True}), ('text', '                                              現金 0', {}), ('text', '                                             お釣り 0', {}), ('text', '--------------------------------', {}), ('text', '合計 {total:,}', {'align': 'center'}), ('text', '', {}), ('text', '現金 {pay_amount:,}', {'align': 'right'}), ('text', 'お釣り {change:,}', {'align': 'right'}), ('text', '', {}), ('text', '毎度ありがとうございます', {'align': 'center'}), ('cut', None, {})]
2025-06-14 21:16:43,707 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-14 21:16:43,707 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 21:47:53,824 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 21:47:53,827 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_214753.json
2025-06-14 21:47:53,832 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 21:47:53,833 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}, {'goods_id': '', 'name': 'ddd', 'price': 500, 'quantity': 1}, {'goods_id': '', 'name': 'ddd', 'price': 660, 'quantity': 1}], 'total': 1710, 'cash': 1710, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 14, 21, 47, 53)}
2025-06-14 21:47:53,833 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/14 21:47:53', {}), ('text', '--------------------------------', {}), ('text', '商品名                     数 単価      金額      ', {'bold': True}), ('text', '--------------------------------', {}), ('text', '150-00015\u3000国鉄蒸気機関車乗  1       550       550', {}), ('text', 'ddd                          1       500       500', {}), ('text', 'ddd                          1       660       660', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                      1,554', {}), ('text', '(内消費税等 10%)                               156', {}), ('text', '--------------------------------', {}), ('text', '--------------------------------', {}), ('text', '合計 1,710', {'align': 'center'}), ('text', '', {}), ('text', '現金 0', {'align': 'right'}), ('text', 'お釣り 0', {'align': 'right'}), ('text', '', {}), ('text', '毎度ありがとうございます', {'align': 'center'}), ('cut', None, {})]
2025-06-14 21:47:53,846 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-14 21:47:53,846 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 22:09:29,420 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 22:09:29,422 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_220929.json
2025-06-14 22:09:29,427 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 22:09:29,427 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}, {'goods_id': '', 'name': 'www', 'price': 2200, 'quantity': 1}], 'total': 2750, 'cash': 2750, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 14, 22, 9, 29)}
2025-06-14 22:09:29,427 [logic.sales_recorder] ERROR: Receipt printing failed: 'pay_method_name'
Traceback (most recent call last):
  File "C:\sakatsu_pos\logic\sales_recorder.py", line 105, in record_sale
    job = self.receipt_builder.build(sale_data)
  File "C:\sakatsu_pos\utils\receipt_builder.py", line 119, in build
    text = entry['text'].format(
        total=sale.get('total', 0),
        pay_amount=sale.get('pay_amount', 0),
        change=sale.get('change', 0)
    )
KeyError: 'pay_method_name'
2025-06-14 22:09:29,429 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 22:18:10,247 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 22:18:10,250 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_221810.json
2025-06-14 22:18:10,255 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 22:18:10,255 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': 'ww', 'price': 2200, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 2750, 'cash': 2750, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 14, 22, 18, 10)}
2025-06-14 22:18:10,255 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/14 22:18:10', {}), ('text', '--------------------------------', {}), ('text', '商品名                   数 単価      金額      ', {'bold': True}), ('text', '--------------------------------', {}), ('text', 'ww                         1     2,200     2,200', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    2,500', {}), ('text', '(内消費税等 10%)                             250', {}), ('text', '--------------------------------', {}), ('text', '                                           お釣り 0', {}), ('text', '--------------------------------', {}), ('text', '合計 {total:,}', {'align': 'right'}), ('text', '', {}), ('text', '{pay_method_name} {pay_amount:,}', {'align': 'right'}), ('text', 'お釣り {change:,}', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-14 22:18:10,268 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-14 22:18:10,268 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 22:32:34,446 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 22:32:34,449 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_223234.json
2025-06-14 22:32:34,454 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 22:32:34,454 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': 'eee', 'price': 1320, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 1870, 'cash': 1870, 'change': 130, 'timestamp': datetime.datetime(2025, 6, 14, 22, 32, 34)}
2025-06-14 22:32:34,455 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/14 22:32:34', {}), ('text', '--------------------------------', {}), ('text', '商品名                   数 単価      金額      ', {'bold': True}), ('text', '--------------------------------', {}), ('text', 'eee                        1     1,320     1,320', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    1,870', {}), ('text', '                (内消費税等 10% 171)                 ', {}), ('text', '--------------------------------', {}), ('text', '合計 1,870', {'align': 'right'}), ('text', '', {}), ('text', ' 0', {'align': 'right'}), ('text', 'お釣り 130', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-14 22:32:34,470 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-14 22:32:34,470 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 22:51:48,551 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 22:51:48,553 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_225148.json
2025-06-14 22:51:48,558 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 22:51:48,558 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': 'fff', 'price': 880, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 1430, 'cash': 1430, 'change': 570, 'timestamp': datetime.datetime(2025, 6, 14, 22, 51, 48)}
2025-06-14 22:51:48,558 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/14 22:51:48', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数      単価      金額', {'bold': True}), ('text', '--------------------------------', {}), ('text', 'fff                        1       880       880', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    1,430', {}), ('text', '                                 (内消費税等 10% 130)', {}), ('text', '--------------------------------', {}), ('text', '合計 1,430', {'align': 'right'}), ('text', '', {}), ('text', ' 0', {'align': 'right'}), ('text', 'お釣り 570', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-14 22:51:48,571 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-14 22:51:48,572 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 22:56:40,865 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 22:56:40,867 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_225640.json
2025-06-14 22:56:40,875 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 22:56:40,875 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': 'rrr', 'price': 660, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 1210, 'cash': 1210, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 14, 22, 56, 40)}
2025-06-14 22:56:40,875 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/14 22:56:40', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数   単価        金額      ', {'bold': True}), ('text', '--------------------------------', {}), ('text', 'rrr                        1       660       660', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    1,210', {}), ('text', '(内消費税等 10%                                  110)', {}), ('text', '--------------------------------', {}), ('text', '合計 1,210', {'align': 'right'}), ('text', '', {}), ('text', ' 0', {'align': 'right'}), ('text', 'お釣り 0', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-14 22:56:40,889 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-14 22:56:40,890 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 23:04:43,224 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 23:04:43,226 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_230443.json
2025-06-14 23:04:43,231 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 23:04:43,231 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': 'rrr', 'price': 990, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 1540, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 14, 23, 4, 43), 'pay_method_name': 'QR', 'pay_amount': 1540.0}
2025-06-14 23:04:43,232 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/14 23:04:43', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数   単価        金額      ', {'bold': True}), ('text', '--------------------------------', {}), ('text', 'rrr                        1       990       990', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    1,540', {}), ('text', '(内消費税等 10%                                  140)', {}), ('text', '--------------------------------', {}), ('text', '合計 1,540', {'align': 'right'}), ('text', '', {}), ('text', 'QR 1,540.0', {'align': 'right'}), ('text', 'お釣り 0', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-14 23:04:43,245 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-14 23:04:43,245 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 23:14:02,181 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 23:14:02,184 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_231402.json
2025-06-14 23:14:02,189 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 23:14:02,189 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': 'ttt', 'price': 770, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 1320, 'change': 180, 'timestamp': datetime.datetime(2025, 6, 14, 23, 14, 2), 'pay_method_name': '支払', 'pay_amount': 1500}
2025-06-14 23:14:02,189 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/14 23:14:02', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数   単価        金額      ', {'bold': True}), ('text', '--------------------------------', {}), ('text', 'ttt                        1       770       770', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    1,320', {}), ('text', '(内消費税等 10%                                  120)', {}), ('text', '--------------------------------', {}), ('text', '合計 1,320', {'align': 'right'}), ('text', '', {}), ('text', '支払 1,500', {'align': 'right'}), ('text', 'お釣り 180', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-14 23:14:02,202 [logic.sales_recorder] ERROR: Receipt printing failed: [WinError 10054] 既存の接続はリモート ホストに強制的に切断されました。
Traceback (most recent call last):
  File "C:\sakatsu_pos\logic\sales_recorder.py", line 81, in record_sale
    self.printer.execute(job)
    ~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\sakatsu_pos\utils\printer.py", line 47, in execute
    self.printer.image(text)
    ~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\sakatsu_pos\venv\Lib\site-packages\escpos\escpos.py", line 261, in image
    self._raw(header + im.to_raster_format())
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\sakatsu_pos\venv\Lib\site-packages\escpos\printer\network.py", line 119, in _raw
    self.device.sendall(msg)
    ~~~~~~~~~~~~~~~~~~~^^^^^
ConnectionResetError: [WinError 10054] 既存の接続はリモート ホストに強制的に切断されました。
2025-06-14 23:14:02,214 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 23:20:20,622 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 23:20:20,625 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_232020.json
2025-06-14 23:20:20,631 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 23:20:20,631 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': 'yyy', 'price': 880, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 1430, 'change': 70, 'timestamp': datetime.datetime(2025, 6, 14, 23, 20, 20), 'pay_method_name': '支払', 'pay_amount': 1500}
2025-06-14 23:20:20,631 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/14 23:20:20', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数   単価        金額      ', {'bold': True}), ('text', '--------------------------------', {}), ('text', 'yyy                        1       880       880', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    1,430', {}), ('text', '(内消費税等 10%                                  130)', {}), ('text', '--------------------------------', {}), ('text', '合計 1,430', {'align': 'right'}), ('text', '', {}), ('text', '支払 1,500', {'align': 'right'}), ('text', 'お釣り 70', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-14 23:20:20,643 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-14 23:20:20,643 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 23:21:25,095 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 23:21:25,098 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_232125.json
2025-06-14 23:21:25,106 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 23:21:25,106 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 550, 'change': 50, 'timestamp': datetime.datetime(2025, 6, 14, 23, 21, 25), 'pay_method_name': '現金', 'pay_amount': 600}
2025-06-14 23:21:25,106 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/14 23:21:25', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数   単価        金額      ', {'bold': True}), ('text', '--------------------------------', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                      550', {}), ('text', '(内消費税等 10%                                   50)', {}), ('text', '--------------------------------', {}), ('text', '合計 550', {'align': 'right'}), ('text', '', {}), ('text', '現金 600', {'align': 'right'}), ('text', 'お釣り 50', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-14 23:21:25,111 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-14 23:21:25,111 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-14 23:36:50,937 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-14 23:36:50,939 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250614_233650.json
2025-06-14 23:36:50,945 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-14 23:36:50,945 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': 'yyy', 'price': 770, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 1320, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 14, 23, 36, 50), 'pay_method_name': 'クレジットカード', 'pay_amount': 1320}
2025-06-14 23:36:50,945 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/14 23:36:50', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数量        単価        金額', {'bold': True}), ('text', '--------------------------------', {}), ('text', 'yyy                        1       770       770', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    1,320', {}), ('text', '(内消費税等 10%                             120)', {}), ('text', '合計 1,320', {'align': 'right'}), ('text', '', {}), ('text', 'クレジットカード 1,320', {'align': 'right'}), ('text', 'お釣り 0', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-14 23:36:50,960 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-14 23:36:50,960 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-15 00:18:36,369 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-15 00:18:36,371 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250615_001836.json
2025-06-15 00:18:36,376 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-15 00:18:36,376 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': 'ooo', 'price': 880, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 1430, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 15, 0, 18, 36), 'pay_method_name': 'QR', 'pay_amount': 1430}
2025-06-15 00:18:36,376 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/15 00:18:36', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数量        単価        金額', {'bold': True}), ('text', '--------------------------------', {}), ('text', 'ooo                        1       880       880', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    1,430', {}), ('text', '(内消費税等 10%                             130)', {}), ('text', '合計 1,430', {'align': 'right'}), ('text', '', {}), ('text', 'QR 1,430', {'align': 'right'}), ('text', 'お釣り 0', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-15 00:18:36,390 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-15 00:18:36,391 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-15 00:29:20,090 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-15 00:29:20,092 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250615_002920.json
2025-06-15 00:29:20,098 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-15 00:29:20,099 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': 'bbb', 'price': 770, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 1320, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 15, 0, 29, 20), 'pay_method_name': 'クレジットカード', 'pay_amount': 1320}
2025-06-15 00:29:20,099 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/15 00:29:20', {}), ('text', '--------------------------------', {}), ('text', '商品名                     数        単価        金額', {'bold': True}), ('text', '--------------------------------', {}), ('text', 'bbb                                770       770', {}), ('text', '150-00015\u3000国鉄蒸気機関車          550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    1,320', {}), ('text', '(内消費税等 10%                             120)', {}), ('text', '--------------------------------', {}), ('text', '合計 1,320', {'align': 'right'}), ('text', '', {}), ('text', 'クレジットカード 1,320', {'align': 'right'}), ('text', 'お釣り 0', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-15 00:29:20,113 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-15 00:29:20,113 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-15 00:37:01,911 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-15 00:37:01,913 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250615_003701.json
2025-06-15 00:37:01,918 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-15 00:37:01,918 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': '77', 'price': 770, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 1320, 'change': 180, 'timestamp': datetime.datetime(2025, 6, 15, 0, 37, 1), 'pay_method_name': '現金', 'pay_amount': 1500}
2025-06-15 00:37:01,918 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/15 00:37:01', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数      単価      金額', {'bold': True}), ('text', '--------------------------------', {}), ('text', '77                                 770       770', {}), ('text', '150-00015\u3000国鉄蒸気機関車          550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    1,320', {}), ('text', '(内消費税等 10%                             120)', {}), ('text', '--------------------------------', {}), ('text', '合計 1,320', {'align': 'right'}), ('text', '', {}), ('text', '現金 1,500', {'align': 'right'}), ('text', 'お釣り 180', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-15 00:37:01,932 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-15 00:37:01,932 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-15 00:40:44,459 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-15 00:40:44,462 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250615_004044.json
2025-06-15 00:40:44,469 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-15 00:40:44,469 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': 'fff', 'price': 5496687, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 5497237, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 15, 0, 40, 44), 'pay_method_name': 'クレジットカード', 'pay_amount': 5497237}
2025-06-15 00:40:44,470 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/15 00:40:44', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数      単価      金額', {'bold': True}), ('text', '--------------------------------', {}), ('text', 'fff                        1 5,496,687 5,496,687', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                5,497,237', {}), ('text', '(内消費税等 10%                         499,749)', {}), ('text', '--------------------------------', {}), ('text', '合計 5,497,237', {'align': 'right'}), ('text', '', {}), ('text', 'クレジットカード 5,497,237', {'align': 'right'}), ('text', 'お釣り 0', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-15 00:40:44,489 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-15 00:40:44,490 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-16 08:36:26,287 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-16 08:36:26,298 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250616_083626.json
2025-06-16 08:36:26,312 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-16 08:36:26,313 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '', 'name': 'uuu', 'price': 800, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 1350, 'change': 0, 'timestamp': datetime.datetime(2025, 6, 16, 8, 36, 26), 'pay_method_name': 'クレジットカード', 'pay_amount': 1350}
2025-06-16 08:36:26,316 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/16 08:36:26', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数      単価      金額', {'bold': True}), ('text', '--------------------------------', {}), ('text', 'uuu                        1       800       800', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    1,350', {}), ('text', '(内消費税等 10%                             123)', {}), ('text', '--------------------------------', {}), ('text', '合計 1,350', {'align': 'right'}), ('text', '', {}), ('text', 'クレジットカード 1,350', {'align': 'right'}), ('text', 'お釣り 0', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-16 08:36:26,372 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-16 08:36:26,372 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-16 08:45:40,869 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-16 08:45:40,896 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250616_084540.json
2025-06-16 08:45:40,915 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-16 08:45:40,916 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '4562469774350', 'name': '磁気スイッチ付LEDモジュール3セット：レッド\u3000：\u3000ビットトレードワン\u3000電子パーツ\u3000ノンスケール\u3000ADMGLRD3', 'price': 1375, 'quantity': 1}, {'goods_id': '4562469774374', 'name': '磁気スイッチ付LEDモジュール3セット：ホワイト\u3000：\u3000ビットトレードワン\u3000電子パーツ\u3000ノンスケール\u3000ADMGLWH3', 'price': 1375, 'quantity': 1}, {'goods_id': '', 'name': '4573188328816', 'price': 990, 'quantity': 1}], 'total': 3740, 'change': 1260, 'timestamp': datetime.datetime(2025, 6, 16, 8, 45, 40), 'pay_method_name': '現金', 'pay_amount': 5000}
2025-06-16 08:45:40,919 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/16 08:45:40', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数      単価      金額', {'bold': True}), ('text', '--------------------------------', {}), ('text', '磁気スイッチ付LEDモジュー  1     1,375     1,375', {}), ('text', '磁気スイッチ付LEDモジュー  1     1,375     1,375', {}), ('text', '4573188328816              1       990       990', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    3,740', {}), ('text', '(内消費税等 10%                             340)', {}), ('text', '--------------------------------', {}), ('text', '合計 3,740', {'align': 'right'}), ('text', '', {}), ('text', '現金 5,000', {'align': 'right'}), ('text', 'お釣り 1,260', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-16 08:45:40,971 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-16 08:45:40,971 [logic.sales_recorder] INFO: >>> record_sale end
2025-06-16 19:16:01,963 [logic.sales_recorder] INFO: >>> record_sale start
2025-06-16 19:16:02,076 [logic.sales_recorder] INFO: Recorded sale: data\202506\sales_20250616_191602.json
2025-06-16 19:16:02,121 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-06-16 19:16:02,124 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '4562469774374', 'name': '磁気スイッチ付LEDモジュール3セット：ホワイト\u3000：\u3000ビットトレードワン\u3000電子パーツ\u3000ノンスケール\u3000ADMGLWH3', 'price': 1375, 'quantity': 1}, {'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}, {'goods_id': '', 'name': '724771050292', 'price': 2000, 'quantity': 1}], 'total': 3925, 'change': 1075, 'timestamp': datetime.datetime(2025, 6, 16, 19, 16, 2), 'pay_method_name': '現金', 'pay_amount': 5000}
2025-06-16 19:16:02,132 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/06/16 19:16:02', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数      単価      金額', {'bold': True}), ('text', '--------------------------------', {}), ('text', '磁気スイッチ付LEDモジュー  1     1,375     1,375', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '724771050292               1     2,000     2,000', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                    3,925', {}), ('text', '(内消費税等 10%                             357)', {}), ('text', '--------------------------------', {}), ('text', '合計 3,925', {'align': 'right'}), ('text', '', {}), ('text', '現金 5,000', {'align': 'right'}), ('text', 'お釣り 1,075', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-06-16 19:16:02,344 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-06-16 19:16:02,346 [logic.sales_recorder] INFO: >>> record_sale end
2025-08-04 14:13:32,866 [logic.sales_recorder] INFO: >>> record_sale start
2025-08-04 14:13:32,868 [logic.sales_recorder] INFO: Recorded sale: data\202508\sales_20250804_141332.json
2025-08-04 14:13:32,875 [logic.sales_recorder] INFO: Inventory update successful (simulate=True): {'simulated': True}
2025-08-04 14:13:32,875 [logic.sales_recorder] INFO: >>> preparing to build receipt job: {'items': [{'goods_id': '140015000015', 'name': '150-00015\u3000国鉄蒸気機関車乗務員\u3000点検する機関士\u3000：タイニーテイルズ\u3000着色済み完成品\u30001/150', 'price': 550, 'quantity': 1}], 'total': 550, 'change': 450, 'timestamp': datetime.datetime(2025, 8, 4, 14, 13, 32), 'pay_method_name': '現金', 'pay_amount': 1000}
2025-08-04 14:13:32,875 [logic.sales_recorder] INFO: >>> built receipt job: [('image', 'config/logo.png', {'align': 'center'}), ('text', '\u3000', {}), ('text', '領\u3000\u3000収\u3000\u3000書', {'align': 'center', 'bold': True, 'width': 2, 'height': 2}), ('text', '\u3000', {}), ('text', '有限会社さかつう', {'align': 'center'}), ('text', '登録番号：T2013302004491', {'align': 'center'}), ('text', '住所: 〒170-0002\u3000東京都豊島区巣鴨3-25-13', {'align': 'center'}), ('text', '電話: 03-3949-2892（10:30～19:00 木曜休み）', {'align': 'center'}), ('text', 'https://sakatsu.jp/', {'align': 'center'}), ('text', '', {}), ('text', '', {}), ('text', '日時: 2025/08/04 14:13:32', {}), ('text', '--------------------------------', {}), ('text', '商品名                    数      単価      金額', {'bold': True}), ('text', '--------------------------------', {}), ('text', '150-00015\u3000国鉄蒸気機関車  1       550       550', {}), ('text', '--------------------------------', {}), ('text', '10%対象                                      550', {}), ('text', '(内消費税等 10%                              50)', {}), ('text', '--------------------------------', {}), ('text', '合計 550', {'align': 'right'}), ('text', '', {}), ('text', '現金 1,000', {'align': 'right'}), ('text', 'お釣り 450', {'align': 'right'}), ('text', '', {}), ('text', 'ご利用いただき、誠にありがとうございました。', {'align': 'center'}), ('cut', None, {})]
2025-08-04 14:13:32,889 [logic.sales_recorder] INFO: >>> ReceiptPrinter.execute completed
2025-08-04 14:13:32,889 [logic.sales_recorder] INFO: >>> record_sale end
